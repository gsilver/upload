<!-- based on: http://www.matlus.com/html5-file-upload-with-progress/ -->
<html ng-app="myApp">

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="upload.css">

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular-animate.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script type="text/javascript" src="upload.js"></script>
</head>

<body>
  <div ng-controller="myCtrl">
    <br><br>
    <div class="container-fluid">
      <form ng-class="{ 'btn-group': content.length}">
        <input class="btn btn-primary" type="file" file-model="users_in_sections"/>
        <button style="padding:7.5px 12px" ng-show="content" class="btn btn-default"  type="reset" ng-click="resetFileUpload()" name="reset-file-input">Reset</button>
      </form>
      <!-- <p>
        <label>File Name:</label>
        <input type="text" ng-model="filename" id="fileInput"></input>
      </p> -->

      <div class="alert alert-danger" ng-show="errors.length && content.length">
        There were {{errors.length}} errors, highlighted below.  <input type="checkbox" id="showErrors" name="" value="" ng-model="showErrors"> <label for="showErrors">Show errors only</label>
      </div>



      <table class="table table-striped  table-hover" ng-show="content">
        <thead>
          <tr>
            <th>
              <a href="#" ng-click="sortType = 'Id';sortReverse = !sortReverse">
                Id
                <span ng-show="sortType == 'Id' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'Id' && sortReverse" class="fa fa-caret-up"></span>
              </a>
            </th>
            <th>
              <a href="#" ng-click="sortType = 'Role';sortReverse = !sortReverse">
                Role
                <span ng-show="sortType == 'Role' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'Role' && sortReverse" class="fa fa-caret-up"></span>
              </a>
            </th>
            <th>

              <a href="#" ng-click="sortType = 'Section';sortReverse = !sortReverse">
                Section
                <span ng-show="sortType == 'Section' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'Section' && sortReverse" class="fa fa-caret-up"></span>
              </a>

            </th>
            <th>

              <a href="#" ng-click="sortType = 'Status';sortReverse = !sortReverse">
                Status
                <span ng-show="sortType == 'Status' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'Status' && sortReverse" class="fa fa-caret-up"></span>
              </a>


            </th>
             <!-- <th ng-repeat="header in headers">
              <a href="#" ng-click="sortType = '{{header}}'">
                {{header}}
              </a>
            </th> -->
          </tr>
        </thead>
        <tbody>
          <tr ng-hide="showErrors && !contentline.invalid" ng-class="{ 'table-danger': contentline.invalid}"  ng-repeat="contentline in content | orderBy:sortType:sortReverse track by contentline.rowId">
            <td>
              {{contentline.Id}}
            </td>
            <td>
              {{contentline.Role}}
            </td>
            <td>
              {{contentline.Section}}
            </td>
            <td>
              {{contentline.Status}}
            </td>

          </tr>
        </tbody>
      </table>
      <div class="" ng-show="content">
          <button class="btn btn-primary" ng-click="uploadForm()">Upload</button>
      </div>

    </div>
  </div>
</body>

</html>
